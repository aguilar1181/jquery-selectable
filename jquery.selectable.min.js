//
// jquery.selectable.js - Turn a collection of HTML elements into a selectable list
//
// Developed by Cory LaViska for A Beautiful Site, LLC
//
// Licensed under the MIT license: http://opensource.org/licenses/MIT
//
jQuery&&function(e){"use strict";function l(l){var t=this;e(t).data("options.selectable",l).on("click.selectable dblclick.selectable",l.items,function(e){e.preventDefault(),u.call(t,this,e)})}function t(){e(this).removeData("disabled.selectable").removeData("lastChange.selectable").removeData("lastIndex.selectable").removeData("options.selectable").off("click.selectable").off("dblclick.selectable")}function a(){var l=this,t=e(l).data("options.selectable");e(l).data("disabled.selectable",!0).find(t.items).addClass(t.disabledClass)}function s(){var l=this,t=e(l).data("options.selectable");e(l).removeData("disabled.selectable").find(t.items).removeClass(t.disabledClass)}function c(){var l=this,t=e(l).data("options.selectable"),a=i.call(l),s=e(l).data("lastChange.selectable");s&&s===a||t.change&&t.change.call(l,a,n.call(l,!0))}function i(){var l=this,t=e(l).data("options.selectable"),a=[];return e(l).find(t.items+"."+t.selectedClass).each(function(){a.push(t.getValue.call(this))}),t.multiple?a:a[0]}function n(l){var t=this,a=e(t).data("options.selectable");return l?e(t).find(a.items+"."+a.selectedClass).toArray():e(t).find(a.items).toArray()}function d(){var l=this,t=e(l).data("options.selectable");t.multiple&&(e(l).find(t.items).addClass(t.selectedClass),c.call(l))}function o(){var l=this,t=e(l).data("options.selectable");e(l).find(t.items).removeClass(t.selectedClass),c.call(l)}function r(l){var t=this,a=e(t).data("options.selectable");"string"==typeof l&&(l=[l]),a.multiple||(l=[l[0]]),e(t).find(a.items).each(function(){e(this).toggleClass(a.selectedClass,e.inArray(a.getValue.call(this),l)>-1)}),c.call(t)}function u(l,t){var a=this,s=e(a).data("options.selectable"),n=e(l).index(),d=e(a).data("lastIndex.selectable");e(a).data("disabled.selectable")||"click"===t.type&&s.click&&s.click.call(a,s.getValue.call(l),l)===!1||("dblclick"===t.type&&s.doubleClick&&s.doubleClick.call(a,s.getValue.call(l),l),s.multiple&&t.shiftKey&&void 0!==d?e(a).find(s.items).slice(Math.min(d,n),Math.max(d,n)+1).toggleClass(s.selectedClass,!e(l).hasClass(s.selectedClass)):s.multiple&&(t.metaKey||t.ctrlKey)?e(l).toggleClass(s.selectedClass):(e(a).find("."+s.selectedClass).length>1?e(l).addClass(s.selectedClass):e(l).toggleClass(s.selectedClass),e(a).find(s.items).not(l).removeClass(s.selectedClass)),c.call(a),e(a).data("lastIndex.selectable",n).data("lastChange.selectable",i.call(a)))}e.selectable={defaults:{getValue:function(){return e(this).attr("data-value")},items:"li",multiple:!1,disabledClass:"disabled",selectedClass:"selected"}},e.extend(e.fn,{selectable:function(c,u){switch("object"==typeof c&&(u=c),c){case"destroy":return e(this).each(t);case"disable":return e(this).each(u===!1?s:a);case"getElements":return n.call(this,u);case"selectAll":return e(this).each(d);case"selectNone":return e(this).each(o);case"value":return void 0===u?i.call(this):e(this).each(function(){r.call(this,u)});default:return e(this).each(function(){l.call(this,e.extend({},e.selectable.defaults,u))})}}})}(jQuery);